<!doctype html>
<html>
    <head lang="en">
            <title>Automate sprites with css-sprite &amp; stylus</title>

        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta property="og:url"         content="automatic-css-sprites.html" />
        <meta property="og:type"        content="website" />
        <meta property="og:title"       content="Automate sprites with css-sprite &amp; stylus" />
        <meta property="og:description" content="<h2>Using css-sprite and stylus to Automate CSS Sprite Sheets</h2>" />
        <meta property="og:image"       content="" />

        <!-- Stylesheets -->
        <link rel="stylesheet" href="./theme/css/main.css" />

        <!-- Typekit -->
        <script>
          (function(d) {
            var config = {
              kitId: 'umd0yin',
              scriptTimeout: 3000,
              async: true
            },
            h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
          })(document);
        </script>

    </head>
    <body class="">

        <noscript>
            <div class="javascript-disabled">
                <div class="wrapper">
                    <h2>Hey, we noticed you have javascript disabled in your
                        browser.</h2>
                    <p>Enable javascript in your browser to fully experience this
                    website. <a href="http://enable-javascript.com/"
                        target="_blank">Here are some handy instructions!</a></p>
                </div>
            </div>
        </noscript>

        <div id="barba-wrapper">
            <div class="barba-container">


        <section class="articles-section article-page contain-small">
            <h2>Articles <a href=".">Home</a></h2>
        </section>

        <article class="article">
            <header class="header-area">

                <div class="contain-small">
                    <h1 class="header-title">Automate sprites with css-sprite &amp; stylus</h1>
                </div>
            </header>

            <section class="article-body" role="main">
                <div class="contain-small">
                    <p>We all know about the benefits of using CSS sprites right? They've <a href="http://alistapart.com/article/sprites">been around for ages</a>, are generally seen as a good thing to do, and should be considered a standard practice.</p>
<p>They're also a pain in the arse. CSS sprites are time consuming to create, harder to maintain, and you have to go through all that pain again to create retina assets.</p>
<p>This is a conversation you don't want to have when you're manually maintaining CSS sprites:</p>
<blockquote>
<ul>
<li>
<p><em>designer</em> &mdash; "Hey, I've updated this icon. It looks so much better now!"</p>
</li>
<li>
<p><em>front-end developer</em> &mdash; "Oh nice! I'll just put it in the sprite sheet an- ... Hey, <em>designer</em>, it's 2px wider and 1px shorter now... I'm going to have to adjust styles for most of the icons in the sprite sheet :("</p>
</li>
<li>
<p><em>evil* designer</em> &mdash; "HA HA HA! Foiled again, young front-end developer!"</p>
</li>
</ul>
</blockquote>
<p>Yeah, there are techniques to lessen the amount of styles that would need to be adjusted in the &mdash; almost inevitable &mdash; event of this occurring, but the fundamental problem remains.</p>
<h2>npm install *</h2>
<p>At some point between 2004 and now we developed this concept of front-end tooling.</p>
<p>We now have task runners, package managers, CSS frameworks, boilerplates, DOM manipulation libraries, JS helper libraries, event libraries, CSS helpers, dependency managers, template languages, testing frameworks, test runners, code coverage tools, <a href="https://github.com/codylindley/frontend-tools">and so much more</a>!</p>
<p>Front-end tooling is awesome and automates away the pain.</p>
<h2>npm install css-sprite</h2>
<p>There's this node package called <a href="https://www.npmjs.org/package/css-sprite/">css-sprite</a>. It generates CSS sprites. You give it a bunch of images and it gives you one image and a file formatted for the CSS pre-processor of your choice (including vanilla CSS). Check out the <a href="https://github.com/aslansky/css-sprite">Github repo</a>.</p>
<h3>css-sprite + stylus = awesome</h3>
<p>So I've got this directory of Christmas icons because I have no taste or self-restraint when it comes to festive activities... here's what it looks like:</p>
<p><img alt="Source images" src="./images/dist/automatic-css-sprites/src-images.png" /></p>
<p>I ran css-sprite with these configuration options (I'm using gulp as my task runner):</p>
<div class="highlight"><pre><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">stylus</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-stylus&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">gulpif</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-if&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">sprite</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;css-sprite&#39;</span><span class="p">).</span><span class="nx">stream</span><span class="p">;</span>

<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;sprites&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;./public/img/src/sprites/*.png&#39;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">sprite</span><span class="p">({</span>
            <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;_sprites&#39;</span><span class="p">,</span>
            <span class="nx">style</span><span class="o">:</span> <span class="s1">&#39;_sprites.styl&#39;</span><span class="p">,</span>
            <span class="nx">cssPath</span><span class="o">:</span> <span class="s1">&#39;../../../../img/build&#39;</span><span class="p">,</span>
            <span class="nx">processor</span><span class="o">:</span> <span class="s1">&#39;stylus&#39;</span><span class="p">,</span>
            <span class="nx">orientation</span><span class="o">:</span> <span class="s1">&#39;bindary-tree&#39;</span>
        <span class="p">}))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulpif</span><span class="p">(</span><span class="s1">&#39;*.png&#39;</span><span class="p">,</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./public/img/build/&#39;</span><span class="p">),</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./public/css/src/components/&#39;</span><span class="p">)))</span>
<span class="p">});</span>
</pre></div>


<p>Those config options say we want to create an image with the name <code>_sprites</code>, a stylus stylesheet with the name <code>_sprites.styl</code>, the image paths in the eventual compiled CSS file to reference the directory <code>../../../../img/build</code>, to use the <code>stylus</code> pre-processor, and to layout the icons in the generated sprite in a binary tree fashion.</p>
<p>Here's the generated output:</p>
<p><img alt="Build Images + .styl file" src="./images/dist/automatic-css-sprites/build.png" /></p>
<p>And the contents of that <code>_sprites.styl</code> file that's ready to be compiled by stylus at a later time:</p>
<div class="highlight"><pre><span class="err">$</span><span class="n">light93</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">alarm55</span> <span class="o">=</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">bag40</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">balloon9</span> <span class="o">=</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">bell47</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">bell48</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">bell49</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">bell50</span> <span class="o">=</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">bible4</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">cake17</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">calendar167</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">candle11</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">candle12</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">candle13</span> <span class="o">=</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">candy18</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">candy19</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">candy20</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">candy21</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">champagne6</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">chimney3</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">christmas289</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">christmas290</span> <span class="o">=</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">christmas291</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">christmas292</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">christmas293</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">coffee114</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">cookie1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">document173</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">donut7</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">drum23</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">eighth4</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">fireplace3</span> <span class="o">=</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">forest6</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">gift67</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">gift68</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">gingerbread3</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">glove7</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">glove8</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">grater1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">hat19</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">heart302</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">horseshoe20</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">house159</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">ice</span><span class="o">-</span><span class="n">skate</span> <span class="o">=</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">leave1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">angel7</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">light94</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">lollipop6</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">ornament3</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">ornament4</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">ornament5</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">pen71</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">penguin4</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">present20</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">reindeer3</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">reindeer4</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">ribbon53</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">ribbon54</span> <span class="o">=</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">ribbon55</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">rocking3</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">sack1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">santa</span><span class="o">-</span><span class="n">claus</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">shooting</span><span class="o">-</span><span class="n">star</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">sign16</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">sled</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">snow</span><span class="o">-</span><span class="n">globe</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">snowflake146</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">snowflake147</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">snowing10</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">snowman18</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">snowman19</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">snowman20</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">sparkler</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">stamp12</span> <span class="o">=</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">star179</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">star180</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">star181</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">star182</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">star183</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">star184</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">star185</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">stocking1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4703</span><span class="n">px</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">teddy</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4703</span><span class="n">px</span> <span class="o">-</span><span class="mi">527</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">thermometer57</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4703</span><span class="n">px</span> <span class="o">-</span><span class="mi">1049</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">toast</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4703</span><span class="n">px</span> <span class="o">-</span><span class="mi">1571</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">tree113</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4703</span><span class="n">px</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">tree114</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4703</span><span class="n">px</span> <span class="o">-</span><span class="mi">2615</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">tree115</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4703</span><span class="n">px</span> <span class="o">-</span><span class="mi">3137</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">turkey7</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4703</span><span class="n">px</span> <span class="o">-</span><span class="mi">3659</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">twig</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4703</span><span class="n">px</span> <span class="o">-</span><span class="mi">4181</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>
<span class="err">$</span><span class="n">wine63</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span> <span class="o">-</span><span class="mi">4703</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span> <span class="mi">512</span><span class="n">px</span>

<span class="n">sprite</span><span class="o">-</span><span class="n">width</span><span class="p">(</span><span class="err">$</span><span class="n">sprite</span><span class="p">)</span>
  <span class="n">width</span> <span class="err">$</span><span class="n">sprite</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

<span class="n">sprite</span><span class="o">-</span><span class="n">height</span><span class="p">(</span><span class="err">$</span><span class="n">sprite</span><span class="p">)</span>
  <span class="n">height</span> <span class="err">$</span><span class="n">sprite</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

<span class="n">sprite</span><span class="o">-</span><span class="n">position</span><span class="p">(</span><span class="err">$</span><span class="n">sprite</span><span class="p">)</span>
  <span class="n">background</span><span class="o">-</span><span class="n">position</span> <span class="err">$</span><span class="n">sprite</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="err">$</span><span class="n">sprite</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">sprite</span><span class="p">(</span><span class="err">$</span><span class="n">sprite</span><span class="p">)</span>
  <span class="n">sprite</span><span class="o">-</span><span class="n">position</span><span class="p">(</span><span class="err">$</span><span class="n">sprite</span><span class="p">)</span>
  <span class="n">background</span><span class="o">-</span><span class="n">repeat</span> <span class="n">no</span><span class="o">-</span><span class="n">repeat</span>
  <span class="n">overflow</span> <span class="n">hidden</span>
  <span class="n">display</span> <span class="n">block</span>
  <span class="n">sprite</span><span class="o">-</span><span class="n">width</span><span class="p">(</span><span class="err">$</span><span class="n">sprite</span><span class="p">)</span>
  <span class="n">sprite</span><span class="o">-</span><span class="n">height</span><span class="p">(</span><span class="err">$</span><span class="n">sprite</span><span class="p">)</span>

<span class="p">.</span><span class="n">icon</span>
  <span class="n">background</span><span class="o">-</span><span class="n">image</span> <span class="n">url</span><span class="p">(</span><span class="err">&#39;</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">img</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">_sprites</span><span class="p">.</span><span class="n">png</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>


<p>This <code>_sprites.styl</code> file can then be referenced by other .styl files in the build...</p>
<p><strong>compile.styl:</strong></p>
<div class="highlight"><pre><span class="n">primary</span><span class="o">-</span><span class="n">color</span> <span class="o">=</span> <span class="nf">rgb</span><span class="p">(</span><span class="mi">185</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">230</span><span class="p">)</span>
<span class="n">primary</span><span class="o">-</span><span class="n">color</span><span class="o">-</span><span class="mi">50</span> <span class="o">=</span> <span class="nf">rgba</span><span class="p">(</span><span class="mi">185</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mf">.5</span><span class="p">)</span>

<span class="cp">@import</span> <span class="s2">&quot;components/_sprites.styl&quot;</span>
<span class="cp">@import</span> <span class="s2">&quot;components/modular&quot;</span>
<span class="cp">@import</span> <span class="s2">&quot;components/main&quot;</span>
</pre></div>


<p><strong>components/modular.styl:</strong></p>
<div class="highlight"><pre><span class="p">.</span><span class="n">constrained</span> <span class="p">{</span>
    <span class="n">max</span><span class="o">-</span><span class="n">width</span><span class="o">:</span><span class="mi">1180</span><span class="n">px</span><span class="p">;</span>
    <span class="nl">margin:</span><span class="mi">0</span> <span class="k">auto</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="n">candy</span><span class="o">-</span><span class="mi">20</span> <span class="p">{</span>
    <span class="n">sprite</span><span class="p">(</span><span class="err">$</span><span class="n">candy20</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>


<p>Then when compiled by stylus we get this output:</p>
<p><strong>compiled.css:</strong></p>
<div class="highlight"><pre><span class="p">.</span><span class="n">icon</span> <span class="p">{</span>
  <span class="n">background</span><span class="o">-</span><span class="n">image</span><span class="o">:</span> <span class="n">url</span><span class="p">(</span><span class="s">&quot;../../../../img/build/_sprites.png&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">.</span><span class="n">constrained</span> <span class="p">{</span>
  <span class="n">max</span><span class="o">-</span><span class="n">width</span><span class="o">:</span> <span class="mi">1180</span><span class="n">px</span><span class="p">;</span>
  <span class="nl">margin:</span> <span class="mi">0</span> <span class="k">auto</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="n">candy</span><span class="o">-</span><span class="mi">20</span> <span class="p">{</span>
  <span class="n">background</span><span class="o">-</span><span class="n">position</span><span class="o">:</span> <span class="o">-</span><span class="mi">2093</span><span class="n">px</span> <span class="o">-</span><span class="mi">5</span><span class="n">px</span><span class="p">;</span>
  <span class="n">background</span><span class="o">-</span><span class="n">repeat</span><span class="o">:</span> <span class="n">no</span><span class="o">-</span><span class="n">repeat</span><span class="p">;</span>
  <span class="nl">overflow:</span> <span class="n">hidden</span><span class="p">;</span>
  <span class="nl">display:</span> <span class="n">block</span><span class="p">;</span>
  <span class="nl">width:</span> <span class="mi">512</span><span class="n">px</span><span class="p">;</span>
  <span class="nl">height:</span> <span class="mi">512</span><span class="n">px</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="n">primary</span> <span class="p">{</span>
  <span class="n">background</span><span class="o">-</span><span class="n">color</span><span class="o">:</span> <span class="err">#</span><span class="n">b905e6</span><span class="p">;</span>
  <span class="nl">color:</span> <span class="err">#</span><span class="n">fff</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="n">secondary</span> <span class="p">{</span>
  <span class="n">background</span><span class="o">-</span><span class="n">color</span><span class="o">:</span> <span class="n">rgba</span><span class="p">(</span><span class="mi">185</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">230</span><span class="p">,</span><span class="mf">0.5</span><span class="p">);</span>
  <span class="nl">color:</span> <span class="err">#</span><span class="n">fff</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>That's it&hellip; CSS sprites without the hassle.</p>
                </div>
            </section>

            <section class="twitter-cta contain-small">
                <h2><a href="http://twitter.com/ralphsaunders" target="_blank">I'm on twitter</a></h2>
            </section>

        </article>


        <script src="./theme/js/article-index.js" async></script>
            </div>
        </div>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-57038003-1', 'auto');

        </script>

    </body>
</html>